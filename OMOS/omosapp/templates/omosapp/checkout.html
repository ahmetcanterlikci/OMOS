{% extends 'omosapp/base.html' %}
{% load static %}

{% block content1 %}
    <meta name="viewport" content="width=device-width, initial-scale=1.0" charset="UTF-8">
    <title>Checkout</title>
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <script src="https://kit.fontawesome.com/f4dcd45d8c.js"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
{% endblock %}

{% block content2 %}
    <div class="row">
        <div class="col-8 w3-container w3-card-4 w3-light-grey" style="width: 60%; margin-left: 1%;">
            <div class="row">
                <div class="col-12">
                    <h3 style="border-bottom-style: groove; font-weight: bold;">Personal Information</h3>
                </div>
            </div>
            <div class="row">
                <div class="col-6">
                    <h5>Name:</h5>
                    <input class="w3-input w3-border" type="text" name="name" value="{{ user.first_name }}" required>
                    <h5>Surname:</h5>
                    <input class="w3-input w3-border" type="text" name="surname" value="{{ user.last_name }}" required>
                    <h5>E-mail:</h5>
                    <input class="w3-input w3-border" type="text" name="hotmail" value="{{ user.email }} "required>
                    <h5>Phone:</h5>
                    <input class="w3-input w3-border" type="text" name="phone" value="{{ userprofile.phone }} "required>
                </div>
                <div class="col-6">
                    <h5>Country:</h5>
                    <input class="w3-input w3-border" type="text" name="country" value="{{ userprofile.country }}" required>
                    <h5>City:</h5>
                    <input class="w3-input w3-border" type="text" name="city" value="{{ userprofile.city }}" required>
                    <h5>Address:</h5>
                    <textarea name="address" cols="47" rows="6" required>{{ userprofile.address }}</textarea>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <h3 style="border-bottom-style: groove; font-weight: bold;">Orders</h3>
                </div>
            </div>
            <div class="row">
                <div class="col-8">

                    <div class="row">
                        <div class="col-3">
                            <h5>Market<br>/Restaurant</h5>
                        </div>
                        <div class="col-3">
                            <h5>Product</h5>
                        </div>
                        <div class="col-3">
                            <h5>Amount</h5>
                        </div>
                        <div class="col-3">
                            <h5>Cost</h5>
                        </div>
                    </div>
                    {% for chartitem in chartitems %}
                    <div class="row" style="border-bottom-style: groove;">
                        <div class="col-3">
                            <h5>{{ chartitem.clientNameText }}</h5>
                        </div>
                        <div class="col-3">
                            <h5>{{ chartitem.itemName }}</h5>
                        </div>
                        <div class="col-3">
                            <input type="number" name="quantity" min="1" max="99" value="{{ chartitem.itemCount }}"
                                   disabled="True" style="margin-top: 5%;">
                        </div>
                        <div class="col-3">
                            <h5>{{ chartitem.itemPrice }} TL</h5>
                        </div>
                    </div>
                    {% endfor %}
                </div>

            </div>
            <div class="row">
                <div class="col-12">
                    <h3 style="border-bottom-style: groove; font-weight: bold;">Payment Information</h3>
                </div>
            </div>
            <div class="row">
                <div class="col-6">
                    <h5>Name and Surname:</h5>
                    <input class="w3-input w3-border" type="text" name="nameandsurname" required>
                    <h5>Credit/Debit Card Number:</h5>
                    <input class="w3-input w3-border" type="text" name="cardnumber" required>
                    <h5>Expiration Date:</h5>
                    <input class="w3-input w3-border" type="text" name="expdate" required>
                    <h5>CVC2 Code:</h5>
                    <input class="w3-input w3-border" type="text" name="cvc2" required>
                </div>
            </div>
        </div>

        <div class="col-4 w3-container w3-card-4 w3-light-grey" style="width: 30%; margin-left: 1%;">
            <div class="row">
                <div class="col-12">
                    <h3 style="border-bottom-style: groove; font-weight: bold;">Summary</h3>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <h5>Total Price:</h5>
                    <h6>{{ totalprice }} TL</h6>
                    <form method="post" action="ordersuccess">
                        {% csrf_token %}
                    <input type="submit" class="w3-btn w3-red" value="Complete the Order" style="float: right;">
                    </form>
                </div>
            </div>
        </div>

    </div>

{% endblock %}

{% block content3 %}
{% endblock %}